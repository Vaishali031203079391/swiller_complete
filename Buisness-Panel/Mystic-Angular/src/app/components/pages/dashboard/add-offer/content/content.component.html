
<div class="ms-content-wrapper">
    <div class="row">
      <div class="col-xl-6 col-md-12">
        <div class="ms-panel ms-panel-fh">
            <div class="ms-panel-header">
                <h6>Add Offer</h6>
            </div>
            <div class="ms-panel-body">
                <ng-wizard [config]="defaultconfig" (stepChanged)="stepChanged($event)"  class="ms-form-wizard style1-wizard">
                    <ng-wizard-step [title]="'Offer Details'">
                        <div class="ms-wizard-step">
                            <div class="form-row">
                                <div class="col-md-6 mb-3">
                                    <label>Offer Title</label>
                                    <div class="input-group">
                                        <input type="text" class="form-control" placeholder="Offer Title" [(ngModel)]="offer_title" name="offertitle" ngModel>
                                    </div>
                                </div>
                                <div class="col-md-6 mb-3">
                                    <div class="form-group">
                                      <label for="exampleSelect">Category</label>
                                      <select class="form-control" id="exampleSelect" [(ngModel)]="category">
                                          <option [ngValue]="e" *ngFor="let e of rowOneSelect; let i = index">{{e}}</option>
                                      </select>
                                  </div>
                                </div>
                            </div>
                            <div class="form-row">
                              <div class="col-md-6 mb-3">
                                  <label>Offer</label>
                                  <div class="input-group">
                                      <input type="text" class="form-control" placeholder="Offer" [(ngModel)]="offer" name="offer" ngModel>
                                  </div>
                              </div>
                              <div class="col-md-6 mb-3">
                                  <label>Dress Code</label>
                                  <div class="input-group">
                                      <input type="text" class="form-control" placeholder="Dress Code" [(ngModel)]="dress_code" name="dresscode" ngModel>
                                  </div>
                              </div>
                          </div>
                            <div class="form-row">
                                <div class="col-md-12 mb-3">
                                    <label>Description</label>
                                    <div class="input-group">
                                        <textarea type="text" class="form-control" rows="8" [(ngModel)]="description" name="description" ngModel></textarea>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </ng-wizard-step>
                    <ng-wizard-step [title]="'Schedule'">
                        <div class="ms-wizard-step">
                            <div class="form-row">
                                <div class="col-md-12">
                                    <div class="form-row">
                                      <div class="col-xl-6 col-md-12 mb-3">
                                         <label>Start Date</label>
                                          <div class="input-group">
                                            <input type="date" class="form-control datepicker" name="reminder-date" [(ngModel)]="startDate">
                                        </div>
                                      </div>
                                      <div class="col-xl-6 col-md-12 mb-3">
                                        <label>End Date</label>
                                        <div class="input-group">
                                          <input type="date" class="form-control datepicker" name="reminder-date" [(ngModel)]="endDate">
                                      </div>
                                    </div>
                                      </div>
                                </div>
                            </div>

                            <div class="form-row">
                              <div class="col-md-12">
                                  <div class="form-row">
                                    <div class="col-xl-6 col-md-12 mb-3">
                                      <label>Start Time</label>
                                      <ngb-timepicker [(ngModel)]="startTime"></ngb-timepicker>
                                    </div>
                                    <div class="col-xl-6 col-md-12 mb-3">
                                      <label>End Time</label>
                                      <ngb-timepicker [(ngModel)]="endTime"></ngb-timepicker>
                                    </div>
                                    </div>
                              </div>
                          </div>

                            <div class="ms-form-group">
                              <span class="ms-option-name fs-14">Always allow Bookings</span>
                              <label class="ms-switch float-right">
                                  <input type="checkbox" [(ngModel)]="allowBookings">
                                  <span class="ms-switch-slider round"></span>
                              </label>
                          </div>

                          <div class="ms-form-group" *ngIf="!allowBookings">
                            <label>Close Bookings by</label>
                              <div class="input-group">
                                  <select class="form-control" (ngModelChange)="setClosing($event)" [ngModel]="close_bookings_by">
                                      <option value="1 hr Pirior">1 hr Pirior</option>
                                      <option value="2 hrs Pirior">2 hrs Pirior</option>
                                      <option value="12 hrs Pirior">12 hrs Pirior</option>
                                      <option value="24 hrs Pirior">24 hrs Pirior</option>
                                      <option value="48 hrs Pirior">48 hrs Pirior</option>
                                      <option value="custom">Custom</option>
                                  </select>
                              </div>
                          </div>

                            <div class="form-row">
                                <div class="col-xl-6 col-md-12">
                                    <label>Repeat Offer</label>
                                    <div class="input-group">
                                        <select class="form-control" [ngModel]="repeatOffer" (ngModelChange)="onChange($event)">
                                            <option value="Daily">Daily</option>
                                            <option value="Weekly">Weekly</option>
                                            <option value="Monthly">Monthly</option>
                                            <option value="Yearly">Yearly</option>
                                            <option value="Every Alternate Day">Every Alternate Day</option>
                                            <option value="Every Fortnight">Every Fortnight</option>
                                            <option value="Custom">Custom</option>
                                        </select>
                                    </div>
                                </div>
                                <div class="col-xl-6 col-md-12">
                                    <label>No Of Tables</label>
                                    <div class="input-group">
                                        <select class="form-control" (ngModelChange)="setTables($event)" [ngModel]="no_of_tables">
                                            <option value=1>1</option>
                                            <option value=2>2</option>
                                            <option value=3>3</option>
                                            <option value=4>4</option>
                                            <option value=5>5</option>
                                            <option value=6>6</option>
                                            <option value=7>7</option>
                                            <option value=8>8</option>
                                            <option value=9>9</option>
                                            <option value=10>10</option>
                                            <option value=11>11</option>
                                            <option value=12>12</option>
                                            <option value=13>13</option>
                                            <option value=14>14</option>
                                            <option value=15>15</option>
                                            <option value=16>16</option>
                                            <option value=17>17</option>
                                            <option value=18>18</option>
                                            <option value=19>19</option>
                                            <option value=20>20</option>
                                        </select>
                                    </div>
                                </div>
                                <br>
                                <br>
                                <br>
                            </div>
                            <div class="form-row" *ngIf="customEvent">
                              <div class="col-xl-12">
                                <div class="col-xl-12 col-md-12 mb-3">
                                  <label>Set Offer Repeat Date</label>
                                   <div class="input-group">
                                     <input type="date" class="form-control datepicker" name="reminder-date" [(ngModel)]="customDate">
                                 </div>
                               </div>
                              </div>
                            </div>
                        </div>
                    </ng-wizard-step>


                    <ng-wizard-step [title]="'Slots'">
                      <div class="ms-wizard-step">
                        <div class="col-md-12">
                          <perfect-scrollbar class="ms-quickbar-container ms-todo-list-container ms-scrollable">
                            <div class="row">
                              <div class="col-lg-12">
                                <div class="ms-add-task-block">
                                  <div class="form-group mx-3 mt-0  fs-14 clearfix">
                                      <input type="text" class="form-control fs-14 float-left" id="task-block" name="todo-block"
                                          placeholder="Add a Slot">
                                      <button type="button" class="ms-btn-icon bg-primary float-right" (click)="open(taskModal)">
                                          <i class="material-icons text-disabled">add</i>
                                      </button>
                                  </div>
                              </div>
                              </div>
                              <div class="col-lg-12">
                                <div class="col-xl-12 col-md-12">
                                  <div class="ms-panel ms-panel">
                                      <div class="ms-panel-body">
                                          <div class="table-responsive">
                                              <table class="table thead-primary mb-0">
                                                  <thead>
                                                      <tr>
                                                          <th scope="col">#</th>
                                                          <th scope="col">Time Slot</th>
                                                          <th scope="col">Action</th>
                                                      </tr>
                                                  </thead>
                                                  <tbody>
                                                      <tr *ngFor="let item of time">
                                                          <th scope="row">{{item.id}}</th>
                                                          <td>{{item.slot}}</td>
                                                          <td><i class="flaticon-trash" (click)="removeTask(item.id)"> </i></td>
                                                      </tr>
                                                  </tbody>
                                              </table>
                                          </div>
                                      </div>
                                  </div>
                              </div>
                              </div>
                            </div>
                         </perfect-scrollbar>
                        </div>

                      <ng-template #taskModal let-modal>
                        <div class="modal-header bg-secondary">
                            <h5 class="modal-title has-icon text-white"> New Slot</h5>
                            <button type="button" class="close" (click)="modal.dismiss('Cross click')">
                                <span>×</span>
                            </button>
                        </div>
                        <div class="modal-body">
                            <div class="ms-form-group">
                                <label>Slot Number</label>
                                <div class="form-row">
                                  <div class="col-md-12">
                                      <div class="form-row">
                                        <div class="col-xl-6 col-md-12 mb-3">
                                          <label>Start Time</label>
                                          <ngb-timepicker [(ngModel)]="slotStart"></ngb-timepicker>
                                        </div>
                                        <div class="col-xl-6 col-md-12 mb-3">
                                          <label>End Time</label>
                                          <ngb-timepicker [(ngModel)]="slotEnd"></ngb-timepicker>
                                        </div>
                                        </div>
                                  </div>
                              </div>
                                <!-- <input type="text" class="form-control" [(ngModel)]="taks" /> -->
                            </div>
                        </div>
                        <div class="modal-footer">
                            <button type="button" class="btn btn-light" (click)="modal.dismiss('Cross click')">Close</button>
                            <button type="button" class="btn btn-secondary shadow-none" (click)="onClickTask(); modal.dismiss('Cross click')">Add Slot</button>
                        </div>
                    </ng-template>

                      </div>
                  </ng-wizard-step>

                    <ng-wizard-step [title]="'Upload Images'">
                      <div class="form-row">
                        <div class="col-md-12 mb-3">
                          <h3>Upload Caption</h3>
                        <!-- <h6>Name, Address and Location</h6> -->
                      </div>
                          <div class="col-md-12 mb-3">

                            <ngb-accordion [closeOthers]="true" class="has-gap ms-accordion-chevron" activeIds="static-1">
                              <ngb-panel id="static-1">
                                  <ng-template ngbPanelTitle>
                                      <span>Offer Images</span>
                                  </ng-template>
                                  <ng-template ngbPanelContent>
                                   <!--  <h6>Please Upload Caption Image</h6>
                                    <br>
                                    <div class="card text-center">
                                      <div class="card text-center">
                                        <div class="card-body">
                                          <a href="#" class="btn btn-primary"><i class="material-icons">add_to_photos</i>add_photo</a>
                                        </div>
                                      </div>
                                    </div> -->
                                    <div class="container">
                                      <h1>Upload Caption Image
                                          <small>{{offer_title}}</small>
                                      </h1>
                                      <div class="avatar-upload">
                                          <div class="avatar-edit msg-count">
                                              <input type='file' id="imageUpload" accept=".png, .jpg, .jpeg" />
                                              <label for="imageUpload"><i class="fa fa-edit"></i></label>
                                          </div>
                                          <div class="avatar-preview">
                                              <div id="imagePreview" style="background-image: url(https://socialistmodernism.com/wp-content/uploads/2017/07/placeholder-image-300x225.png);">
                                              </div>
                                          </div>
                                      </div>
                                  </div>
                                  </ng-template>
                              </ngb-panel>
                              <ngb-panel id="static-2">
                                  <ng-template ngbPanelTitle>
                                      <span>Upload More Images</span>
                                  </ng-template>
                                  <ng-template ngbPanelContent>
                                    <h6>Please Upload More Images</h6>
                                    <br>
                                    <div class="card text-center">
                                      <div class="card-body" id="card2">
                                        <a href="#" class="btn btn-primary"><i class="material-icons">add_to_photos</i>add_photos</a>
                                      </div>
                                    </div>
                                  </ng-template>
                              </ngb-panel>
                          </ngb-accordion>
                        </div>
                      </div>
                    </ng-wizard-step>
                </ng-wizard>
            </div>
        </div>
    </div>

    <div class="col-xl-6 col-md-12">
      <div class="ms-panel">
        <div class="ms-panel-header">
            <h6>All Offers</h6>
        </div>
        <div class="ms-panel-body">
            <div class="row mb-3">
                <div class="col-lg-3 col-md-6">
                    <input #search class="search" class="form-control" type="text" placeholder="Search..." (keydown.enter)="onSearch(search.value)">
                </div>
            </div>
            <div class="table-responsive">
                <ng2-smart-table [settings]="settings" [source]="source" class="table w-100 thead-primary"></ng2-smart-table>
            </div>
        </div>
    </div>
    </div>

    </div>
</div>
